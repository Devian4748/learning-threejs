import{v as H,w as W,x as _,y as B,T as I,d as g,S as A,p as C,a as L,G as D,n as N,P as J,W as U,L as K}from"./three.module-azYuXL0I.js";/* empty css              */import{O as Q}from"./OrbitControls-OexLcZUE.js";import{G as V}from"./lil-gui.esm-J1oMuMs2.js";class Z extends H{constructor(e){super(e)}load(e,t,n,c){const i=this,r=new W(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,function(h){const p=i.parse(JSON.parse(h));t&&t(p)},n,c)}parse(e){return new $(e)}}class ${constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],c=X(e,t,this.data);for(let i=0,r=c.length;i<r;i++)n.push(...c[i].toShapes());return n}}function X(o,e,t){const n=Array.from(o),c=e/t.resolution,i=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*c,r=[];let h=0,p=0;for(let u=0;u<n.length;u++){const w=n[u];if(w===`
`)h=0,p-=i;else{const x=Y(w,c,h,p,t);h+=x.offsetX,r.push(x.path)}}return r}function Y(o,e,t,n,c){const i=c.glyphs[o]||c.glyphs["?"];if(!i){console.error('THREE.Font: character "'+o+'" does not exists in font family '+c.familyName+".");return}const r=new _;let h,p,u,w,x,T,z,G;if(i.o){const s=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let a=0,O=s.length;a<O;)switch(s[a++]){case"m":h=s[a++]*e+t,p=s[a++]*e+n,r.moveTo(h,p);break;case"l":h=s[a++]*e+t,p=s[a++]*e+n,r.lineTo(h,p);break;case"q":u=s[a++]*e+t,w=s[a++]*e+n,x=s[a++]*e+t,T=s[a++]*e+n,r.quadraticCurveTo(x,T,u,w);break;case"b":u=s[a++]*e+t,w=s[a++]*e+n,x=s[a++]*e+t,T=s[a++]*e+n,z=s[a++]*e+t,G=s[a++]*e+n,r.bezierCurveTo(x,T,z,G,u,w);break}}return{offsetX:i.ha*e,path:r}}class v extends B{constructor(e,t={}){const n=t.font;if(n===void 0)super();else{const c=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(c,t)}this.type="TextGeometry"}}const S=new K;S.onProgress=(o,e,t)=>{console.log("loading progress",o,e,t)};S.onStart=()=>{console.log("loading start")};S.onLoad=()=>{console.log("loading end")};S.onError=o=>{console.log("loading error",o)};const m=new I(S),ee=m.load("/learning-threejs/textures/matcaps/1.png"),te=m.load("/learning-threejs/textures/matcaps/2.png"),ne=m.load("/learning-threejs/textures/matcaps/3.png"),oe=m.load("/learning-threejs/textures/matcaps/4.png"),se=m.load("/learning-threejs/textures/matcaps/5.png"),ae=m.load("/learning-threejs/textures/matcaps/6.png"),re=m.load("/learning-threejs/textures/matcaps/7.png"),M=m.load("/learning-threejs/textures/matcaps/8.png");ee.colorSpace=g;te.colorSpace=g;ne.colorSpace=g;oe.colorSpace=g;se.colorSpace=g;ae.colorSpace=g;re.colorSpace=g;M.colorSpace=g;const k=new V,d={},E=document.querySelector("canvas.webgl");document.querySelector("main");const b=new A,l={width:window.innerWidth,height:window.innerHeight},ie=new Z;ie.load("/learning-threejs/fonts/helvetiker_regular.typeface.json",o=>{d.fontText="Devian",d.fontParameters={font:o,size:.5,height:.2,curveSegments:12,bevelEnabled:!0,bevelThickness:.005,bevelSize:.02,bevelOffset:0,bevelSegments:5};const e=new v(d.fontText,d.fontParameters);e.center();const t=new C;t.matcap=M;const n=new L(e,t);b.add(n),k.add(d.fontParameters,"curveSegments").min(1).max(36).step(1).onFinishChange(()=>{n.geometry.dispose(),n.geometry=new v(d.fontText,d.fontParameters),n.geometry.center()}),k.add(d.fontParameters,"bevelSegments").min(1).max(36).step(1).onFinishChange(()=>{n.geometry.dispose(),n.geometry=new v(d.fontText,d.fontParameters),n.geometry.center()})});const j=new D,ce=new N(.3,.2,16,32),F=new C;F.matcap=M;const he=150;console.time("Torus");for(let o=0;o<he;o++){const e=new L(ce,F);e.position.x=(Math.random()-.5)*15,e.position.y=(Math.random()-.5)*15,e.position.z=(Math.random()-.5)*15,e.rotation.x=Math.random()*Math.PI,e.rotation.y=Math.random()*Math.PI,j.add(e)}console.timeEnd("Torus");const P=Math.random()+.3;j.scale.set(P,P,P);b.add(j);const y=new J(75,l.width/l.height);y.position.z=3;b.add(y);const R=new Q(y,E);R.enableDamping=!0;const f=new U({canvas:E});f.setSize(l.width,l.height);f.setPixelRatio(Math.min(window.devicePixelRatio,2));f.render(b,y);const q=()=>{R.update(),f.render(b,y),window.requestAnimationFrame(q)};q();window.addEventListener("resize",()=>{l.width=window.innerWidth,l.height=window.innerHeight,y.aspect=l.width/l.height,y.updateProjectionMatrix(),f.setSize(l.width,l.height),f.setPixelRatio(Math.min(window.devicePixelRatio,2))});
//# sourceMappingURL=text-wDgr8YYd.js.map
